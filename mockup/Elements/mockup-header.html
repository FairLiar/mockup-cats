<link rel="import" href="sharedStyles.html">

<link href="../css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>

<dom-module id="mockup-header" attributes="cartcounter price">
  <template>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style include="shared-styles"></style>
      <nav class="light-blue lighten-1" role="navigation">
        <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo">Cats For Everyone</a>
          <ul class="right hide-on-med-and-down">
            <li><a id="cart" href="#" class="waves-effect"><i class="large material-icons left">shopping_cart</i>{{cartcounter}}({{price}} $)</a></li>
          </ul>
        </div>
      </nav>
  </template>
</dom-module>

<script>
  class MockupHeader extends Polymer.Element {
    static get is() { return 'mockup-header'; }
    
    static get properties() {
      return {
        cartcounter: {
          type: String,
          value: "Cart is empty"
        },
        price: {
          type: Number,
          value: 0
        }
      }
    }
    
    constructor() {
      super();
    }
    
    ready() {
      super.ready();
      this.$.cart.addEventListener('click', e => openCart(e));
    }
    
    refreshCartCounter(count) {
      var itemsCount = count ? count + ' items in the cart' : "Cart is empty";
      this.setAttribute('cartcounter', itemsCount);
    }
    
    refreshPrice(price) {
      var newPrice = Number(this.__data.price) + Number(price);
      this.setAttribute('price', newPrice);
    }
  }
  customElements.define(MockupHeader.is, MockupHeader);
</script>